{% extends 'student_crediting/base.html' %}

{% block content %}
  <div class="w3-container w3-margin-left">
    <h1>Statistics Details</h1>

  {% for sheet in rsheets %}
    <p> <h2> Sheet No{{sheet.number}} </h2>  </p>
    <p>
    {% for eg in sheet.exgroups %}
      <div class="mybold"> ExGroup{{eg.number}} </div>
      {% for ex in eg.exercises %}
      <div style="text-indent:2%"> ExerciseNo {{ex.number}} (Avg: {{ex.avg|floatformat:-2}}/ Sum: {{ex.csum|floatformat:-2}})</div>
      {% endfor %}
    {% endfor %}
    </p>
  {% endfor %}

{% comment %}
Highcharts.chart('container', {

    chart: {
        type: 'columnrange',
        inverted: true
    },

    title: {
        text: 'Temperature variation by month'
    },

    subtitle: {
        text: 'Observed in Vik i Sogn, Norway, 2017'
    },

    xAxis: {
        categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
            'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
    },

    yAxis: {
        title: {
            text: 'Temperature ( °C )'
        }
    },

    tooltip: {
        valueSuffix: '°C'
    },

    plotOptions: {
        columnrange: {
            dataLabels: {
                enabled: true,
                format: '{y}°C'
            }
        }
    },

    legend: {
        enabled: false
    },

    series: [{
        name: 'Temperatures',
        data: [
            [-9.9, 10.3],
            [-8.6, 8.5],
            [-10.2, 11.8],
            [-1.7, 12.2],
            [-0.6, 23.1],
            [3.7, 25.4],
            [6.0, 26.2],
            [6.7, 21.4],
            [3.5, 19.5],
            [-1.3, 16.0],
            [-8.7, 9.4],
            [-9.0, 8.6]
        ]
    }]

});

{% endcomment %}

  <div id="container"></div>
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/modules/histogram-bellcurve.js"></script>
  <div id="container"></div>
  <script>
	Highcharts.chart('container', {
        chart: {
            type: 'columnrange',
            //inverted: true
        },
		title: {
			text: ''
		},
        credits: {
            enabled: false
        },
        //plotOptions: {
        //    column: {
        //        pointPadding: 0.2,
        //        borderWidth: 0,
        //    }
        //},
		//xAxis: {
	//		title: { text: 'Total Credits' },
//			alignTicks: false,
//		},
        xAxis: {
            categories: [
                {% for ex in sheets.0.exercises %}
                  {{ex.number}}, 
                {% endfor %}
            ]
        },
		yAxis: {
			title: { text: 'normalized' },
		},
		series: [
            {% for eg in rsheets.0.exgroups %}
              {% if eg.avg_credits %}
                {
                name: 'G{{ eg.group}} ({{ eg.tutor }})',
                data: [
                  {% for ex in eg.exercises %}
                    [ex.avg-1, ex.avg+1],
                  {% endfor %}
                    ],
                },
              {% endif %}
            {% endfor %}
        ]
	});
  </script>
  </div>
{% endblock %}

